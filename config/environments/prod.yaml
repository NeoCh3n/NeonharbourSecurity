# NeoHarbour Security - Production Environment Configuration

environment: prod
description: "Production environment for NeoHarbour Security"

aws:
  account_id: "987654321098"  # Replace with actual production account ID
  region: "ap-southeast-1"
  
  dynamodb:
    investigations_table: "AsiaAgenticSocInvestigations-prod"
    metrics_table: "AsiaAgenticSocMetrics-prod"
    demo_sessions_table: "AsiaAgenticSocDemoSessions-prod"
    agents_table: "AsiaAgenticSocAgents-prod"
    billing_mode: "PAY_PER_REQUEST"
    point_in_time_recovery: true
    backup_enabled: true
    
  s3:
    artifacts_bucket: "asia-agentic-soc-artifacts-987654321098-prod"
    audit_bucket: "asia-agentic-soc-audit-987654321098-prod"
    versioning_enabled: true
    encryption_enabled: true
    intelligent_tiering: true
    object_lock_enabled: true
    object_lock_retention_years: 7
    
  kms:
    key_alias: "alias/AsiaAgenticSoc-prod"
    key_rotation_enabled: true
    multi_region: true
    
  eventbridge:
    bus_name: "AsiaAgenticSocBus-prod"
    
  stepfunctions:
    state_machine_name: "AsiaAgenticSocStateMachine-prod"
    logging_level: "ERROR"
    
  lambda:
    runtime: "python3.12"
    timeout: 300
    memory_size: 1024
    tracing_enabled: true
    reserved_concurrency: 500
    provisioned_concurrency: 50

ai:
  provider: "bedrock"
  bedrock:
    region: "ap-southeast-1"
    text_model: "anthropic.claude-3-haiku-20240307-v1:0"
    embed_model: "amazon.titan-embed-text-v2"
    max_tokens: 4096
    temperature: 0.05  # Lower temperature for production consistency

demo:
  default_tenant_id: "prod-demo"
  continuous_generation_enabled: true
  max_concurrent_sessions: 50
  session_timeout_minutes: 240

connectors:
  rate_limit:
    rps: 3  # Conservative for production
    burst: 10
  timeout_seconds: 60
  retry_attempts: 5

logging:
  level: "WARN"
  retention_days: 365

monitoring:
  cloudwatch_dashboard_enabled: true
  alarms_enabled: true
  metrics_collection_enabled: true
  alarm_notification_topic: "arn:aws:sns:ap-southeast-1:987654321098:neoharbour-prod-alerts"
  detailed_monitoring: true

security:
  encryption_at_rest: true
  encryption_in_transit: true
  iam_least_privilege: true
  vpc_enabled: true
  vpc_id: "vpc-prod123"  # Replace with actual VPC ID
  subnet_ids:
    - "subnet-prod123a"  # Replace with actual subnet IDs
    - "subnet-prod123b"
    - "subnet-prod123c"
  security_group_ids:
    - "sg-prod123"  # Replace with actual security group ID
  waf_enabled: true

frontend:
  s3_bucket: "neoharbour-frontend-prod-987654321098"
  cloudfront_distribution_id: "E9876543210XYZ"  # Replace with actual distribution ID
  custom_domain: "app.neoharbour.security"
  ssl_certificate_arn: "arn:aws:acm:us-east-1:987654321098:certificate/12345678-1234-1234-1234-123456789012"

backend:
  lambda_function_name: "AsiaAgenticSoc-Backend-prod"
  api_gateway_stage: "prod"
  custom_domain: "api.neoharbour.security"
  ssl_certificate_arn: "arn:aws:acm:ap-southeast-1:987654321098:certificate/87654321-4321-4321-4321-210987654321"

api:
  endpoint: "https://api.neoharbour.security"
  cors_origins:
    - "https://app.neoharbour.security"
  rate_limiting:
    requests_per_minute: 1000
    burst_limit: 2000

notifications:
  slack:
    webhook_url: "https://hooks.slack.com/services/YOUR/PROD/WEBHOOK"  # Replace with actual webhook
  sns:
    topic_arn: "arn:aws:sns:ap-southeast-1:987654321098:neoharbour-prod-notifications"
  pagerduty:
    integration_key: "YOUR_PAGERDUTY_INTEGRATION_KEY"  # Replace with actual key

compliance:
  audit_logging_enabled: true
  data_retention_days: 2555  # 7 years for HKMA compliance
  compliance_reports_enabled: true
  hkma_compliance_enabled: true
  gdpr_compliance_enabled: true
  sox_compliance_enabled: true

backup:
  enabled: true
  frequency: "daily"
  retention_days: 90
  cross_region_replication: true
  backup_vault_arn: "arn:aws:backup:ap-southeast-1:987654321098:backup-vault:neoharbour-prod-vault"

disaster_recovery:
  enabled: true
  rto_minutes: 60  # Recovery Time Objective
  rpo_minutes: 15  # Recovery Point Objective
  backup_region: "ap-northeast-1"
  failover_enabled: true